"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6203],{6203:(C,g,d)=>{d.r(g),d.d(g,{ActualizarProductoPageModule:()=>b});var p=d(177),u=d(9417),i=d(4742),s=d(1180),m=d(467),o=d(3953),P=d(502);const h=[{path:"",component:(()=>{var t;class l{constructor(a,r,n,e,A,z){this.loadingController=a,this.alertController=r,this.route=n,this.router=e,this.formBuilder=A,this.restApi=z,this.producto={id:1,nombre:"",materialidad:""},this.id=""}ngOnInit(){this.obtenerProducto(this.route.snapshot.params.id),this.productoForm=this.formBuilder.group({nombre:[null,u.k0.required],materialidad:[null,u.k0.required]})}onFormSubmit(a){var r=this;return(0,m.A)(function*(){console.log("onFormSubmit ID:"+r.id),r.producto.id=r.id,yield r.restApi.actualizarProducto(r.id,r.producto).subscribe({next:n=>{r.router.navigate(["/gestion",{id:n.id}])},error:n=>{console.log(n),r.presentAlertConfirm("Error updating product.")},complete:()=>{console.log("Producto actualizado")}})})()}obtenerProducto(a){var r=this;return(0,m.A)(function*(){const n=yield r.loadingController.create({message:"Cargando..."});yield n.present(),yield r.restApi.obtenerProducto(a+"").subscribe({next:e=>{r.id=e.id,r.productoForm.setValue({nombre:e.nombre,materialidad:e.materialidad}),n.dismiss()},complete:()=>{console.log("Producto cargado")},error:e=>{n.dismiss()}})})()}presentAlertConfirm(a){var r=this;return(0,m.A)(function*(){yield(yield r.alertController.create({header:"Warning!",message:a,buttons:[{text:"Okay",handler:()=>{r.router.navigate(["/gestion"])}}]})).present()})()}}return(t=l).\u0275fac=function(a){return new(a||t)(o.rXU(i.Xi),o.rXU(i.hG),o.rXU(s.nX),o.rXU(s.Ix),o.rXU(u.ok),o.rXU(P.o))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-actualizar-producto"]],decls:18,vars:4,consts:[["slot","end"],["defaultHref","/"],["padding",""],[3,"ngSubmit","formGroup"],["position","floating"],["type","text","formControlName","nombre",3,"ngModelChange","ngModel"],["type","text","formControlName","materialidad",3,"ngModelChange","ngModel"],["type","submit","expand","block",3,"disabled"]],template:function(a,r){1&a&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"actualizarProducto"),o.k0s()(),o.j41(4,"ion-buttons",0),o.nrm(5,"ion-back-button",1),o.k0s()(),o.j41(6,"ion-content",2)(7,"form",3),o.bIt("ngSubmit",function(){return r.onFormSubmit(r.productoForm.value)}),o.j41(8,"ion-item")(9,"ion-label",4),o.EFF(10,"Nombre"),o.k0s(),o.j41(11,"ion-input",5),o.mxI("ngModelChange",function(e){return o.DH7(r.producto.nombre,e)||(r.producto.nombre=e),e}),o.k0s()(),o.j41(12,"ion-item")(13,"ion-label",4),o.EFF(14,"Materialidad"),o.k0s(),o.j41(15,"ion-input",6),o.mxI("ngModelChange",function(e){return o.DH7(r.producto.materialidad,e)||(r.producto.materialidad=e),e}),o.k0s()(),o.j41(16,"ion-button",7),o.EFF(17,"Guardar"),o.k0s()()()),2&a&&(o.R7$(7),o.Y8G("formGroup",r.productoForm),o.R7$(4),o.R50("ngModel",r.producto.nombre),o.R7$(4),o.R50("ngModel",r.producto.materialidad),o.R7$(),o.Y8G("disabled",!r.productoForm.valid))},dependencies:[u.qT,u.BC,u.cb,i.Jm,i.QW,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw,i.el,u.j4,u.JD]}),l})()}];let f=(()=>{var t;class l{}return(t=l).\u0275fac=function(a){return new(a||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[s.iI.forChild(h),s.iI]}),l})(),b=(()=>{var t;class l{}return(t=l).\u0275fac=function(a){return new(a||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[p.MD,u.YN,i.bv,f,u.X1]}),l})()}}]);