"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9479],{9479:(P,m,l)=>{l.r(m),l.d(m,{EliminarUbicacionPageModule:()=>v});var d=l(177),g=l(9417),e=l(4742),s=l(1180),u=l(467),i=l(3953),b=l(6049);function E(a,c){if(1&a&&(i.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),i.EFF(3),i.k0s()(),i.j41(4,"ion-card-content")(5,"p"),i.EFF(6),i.k0s(),i.j41(7,"p"),i.EFF(8),i.k0s(),i.j41(9,"p"),i.EFF(10),i.k0s()()()),2&a){const o=i.XpG();i.R7$(3),i.JRh(o.ubicacion.nombre),i.R7$(3),i.SpI("Rack: ",o.ubicacion.rack,""),i.R7$(2),i.SpI("Ubicaci\xf3n: ",o.ubicacion.ubicacion,""),i.R7$(2),i.SpI("Cantidad: ",o.ubicacion.cantidad,"")}}function U(a,c){1&a&&i.nrm(0,"ion-spinner",5)}const f=[{path:"",component:(()=>{var a;class c{constructor(n,r,t,p,F){this.sqliteService=n,this.alertController=r,this.loadingController=t,this.route=p,this.router=F,this.eliminando=!1}ngOnInit(){this.obtenerUbicacion()}obtenerUbicacion(){const n=this.route.snapshot.paramMap.get("id");if(null!==n){const r=parseInt(n,10);this.sqliteService.obtenerUbicacion(r).subscribe(t=>{this.ubicacion=t},t=>{this.presentAlert("Error","No se pudo cargar la ubicaci\xf3n."),console.error("Error al cargar ubicaci\xf3n: ",t)})}else this.presentAlert("Error","ID de ubicaci\xf3n no v\xe1lido.")}confirmarEliminar(){var n=this;return(0,u.A)(function*(){yield(yield n.alertController.create({header:"Confirmar eliminaci\xf3n",message:`\xbfEst\xe1s seguro de que deseas eliminar la ubicaci\xf3n "${n.ubicacion.nombre}"?`,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Eliminaci\xf3n cancelada")}},{text:"Eliminar",handler:()=>{n.eliminarUbicacion()}}]})).present()})()}eliminarUbicacion(){var n=this;return(0,u.A)(function*(){const r=yield n.loadingController.create({message:"Eliminando ubicaci\xf3n..."});yield r.present(),n.sqliteService.eliminarUbicacion(n.ubicacion.id).subscribe(()=>{r.dismiss(),n.presentAlert("\xc9xito","Ubicaci\xf3n eliminada correctamente."),n.router.navigate(["/ubicaciones"])},t=>{r.dismiss(),n.presentAlert("Error","No se pudo eliminar la ubicaci\xf3n."),console.error("Error al eliminar ubicaci\xf3n: ",t)})})()}presentAlert(n,r){var t=this;return(0,u.A)(function*(){yield(yield t.alertController.create({header:n,message:r,buttons:["OK"]})).present()})()}}return(a=c).\u0275fac=function(n){return new(n||a)(i.rXU(b.E),i.rXU(e.hG),i.rXU(e.Xi),i.rXU(s.nX),i.rXU(s.Ix))},a.\u0275cmp=i.VBU({type:a,selectors:[["app-eliminar-ubicacion"]],decls:11,vars:2,consts:[["slot","end"],["defaultHref","/"],[4,"ngIf"],["expand","full","color","danger",3,"click"],["name","dots","style","display: block; margin: 20px auto;",4,"ngIf"],["name","dots",2,"display","block","margin","20px auto"]],template:function(n,r){1&n&&(i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i.EFF(3,"Eliminar Ubicaci\xf3n"),i.k0s(),i.j41(4,"ion-buttons",0),i.nrm(5,"ion-back-button",1),i.k0s()()(),i.j41(6,"ion-content"),i.DNE(7,E,11,4,"ion-card",2),i.j41(8,"ion-button",3),i.bIt("click",function(){return r.confirmarEliminar()}),i.EFF(9," Eliminar Ubicaci\xf3n "),i.k0s(),i.DNE(10,U,1,0,"ion-spinner",4),i.k0s()),2&n&&(i.R7$(7),i.Y8G("ngIf",r.ubicacion),i.R7$(3),i.Y8G("ngIf",r.eliminando))},dependencies:[d.bT,e.Jm,e.QW,e.b_,e.I9,e.ME,e.tN,e.W9,e.eU,e.w2,e.BC,e.ai,e.el]}),c})()}];let h=(()=>{var a;class c{}return(a=c).\u0275fac=function(n){return new(n||a)},a.\u0275mod=i.$C({type:a}),a.\u0275inj=i.G2t({imports:[s.iI.forChild(f),s.iI]}),c})(),v=(()=>{var a;class c{}return(a=c).\u0275fac=function(n){return new(n||a)},a.\u0275mod=i.$C({type:a}),a.\u0275inj=i.G2t({providers:[b.E],imports:[d.MD,g.YN,e.bv,h]}),c})()}}]);