"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6131],{6131:(E,f,s)=>{s.r(f),s.d(f,{ActualizarUbicacionPageModule:()=>y});var p=s(177),r=s(9417),t=s(4742),m=s(1180),g=s(467),i=s(3953),F=s(6049);function U(a,c){1&a&&(i.j41(0,"ion-text",10),i.EFF(1," El nombre es requerido. "),i.k0s())}function h(a,c){1&a&&(i.j41(0,"ion-text",10),i.EFF(1," El rack es requerido. "),i.k0s())}function z(a,c){1&a&&(i.j41(0,"ion-text",10),i.EFF(1," La ubicaci\xf3n es requerida. "),i.k0s())}function v(a,c){1&a&&(i.j41(0,"ion-text",10),i.EFF(1," La cantidad es requerida. "),i.k0s())}const A=[{path:"",component:(()=>{var a;class c{constructor(o,n,e,u,l,b){this.fb=o,this.sqliteService=n,this.route=e,this.router=u,this.loadingController=l,this.alertController=b,this.ubicacionForm=this.fb.group({nombre:["",r.k0.required],rack:["",r.k0.required],ubicacion:["",r.k0.required],cantidad:["",[r.k0.required,r.k0.min(1)]]})}ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.cargarUbicacion()}cargarUbicacion(){var o=this;return(0,g.A)(function*(){const n=yield o.loadingController.create({message:"Cargando ubicaci\xf3n..."});yield n.present(),o.sqliteService.obtenerUbicacion(o.id).subscribe({next:e=>{e&&o.ubicacionForm.patchValue({nombre:e.nombre,rack:e.rack,ubicacion:e.ubicacion,cantidad:e.cantidad}),n.dismiss()},error:e=>{console.error("Error al cargar ubicaci\xf3n:",e),n.dismiss()}})})()}actualizarUbicacion(){var o=this;return(0,g.A)(function*(){const n=yield o.loadingController.create({message:"Actualizando ubicaci\xf3n..."});var u;yield n.present(),o.sqliteService.modificarUbicacion(o.id,o.ubicacionForm.value).subscribe({next:(u=(0,g.A)(function*(){yield n.dismiss(),yield(yield o.alertController.create({header:"\xc9xito",message:"Ubicaci\xf3n actualizada correctamente.",buttons:["OK"]})).present(),o.router.navigate(["/ubicaciones"])}),function(){return u.apply(this,arguments)}),error:function(){var u=(0,g.A)(function*(l){yield n.dismiss(),yield(yield o.alertController.create({header:"Error",message:"No se pudo actualizar la ubicaci\xf3n.",buttons:["OK"]})).present(),console.error("Error al actualizar ubicaci\xf3n:",l)});return function(b){return u.apply(this,arguments)}}()})})()}}return(a=c).\u0275fac=function(o){return new(o||a)(i.rXU(r.ok),i.rXU(F.E),i.rXU(m.nX),i.rXU(m.Ix),i.rXU(t.Xi),i.rXU(t.hG))},a.\u0275cmp=i.VBU({type:a,selectors:[["app-actualizar-ubicacion"]],decls:30,vars:6,consts:[["slot","end"],["defaultHref","/"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","nombre","type","text"],["color","danger",4,"ngIf"],["formControlName","rack","type","text"],["formControlName","ubicacion","type","text"],["formControlName","cantidad","type","number"],["expand","full","type","submit",3,"disabled"],["color","danger"]],template:function(o,n){if(1&o&&(i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i.EFF(3,"Actualizar Ubicaci\xf3n"),i.k0s(),i.j41(4,"ion-buttons",0),i.nrm(5,"ion-back-button",1),i.k0s()()(),i.j41(6,"ion-content")(7,"form",2),i.bIt("ngSubmit",function(){return n.actualizarUbicacion()}),i.j41(8,"ion-item")(9,"ion-label",3),i.EFF(10,"Nombre"),i.k0s(),i.nrm(11,"ion-input",4),i.k0s(),i.DNE(12,U,2,0,"ion-text",5),i.j41(13,"ion-item")(14,"ion-label",3),i.EFF(15,"Rack"),i.k0s(),i.nrm(16,"ion-input",6),i.k0s(),i.DNE(17,h,2,0,"ion-text",5),i.j41(18,"ion-item")(19,"ion-label",3),i.EFF(20,"Ubicaci\xf3n"),i.k0s(),i.nrm(21,"ion-input",7),i.k0s(),i.DNE(22,z,2,0,"ion-text",5),i.j41(23,"ion-item")(24,"ion-label",3),i.EFF(25,"Cantidad"),i.k0s(),i.nrm(26,"ion-input",8),i.k0s(),i.DNE(27,v,2,0,"ion-text",5),i.j41(28,"ion-button",9),i.EFF(29," Actualizar Ubicaci\xf3n "),i.k0s()()()),2&o){let e,u,l,b;i.R7$(7),i.Y8G("formGroup",n.ubicacionForm),i.R7$(5),i.Y8G("ngIf",(null==n.ubicacionForm||null==(e=n.ubicacionForm.get("nombre"))?null:e.invalid)&&(null==n.ubicacionForm||null==(e=n.ubicacionForm.get("nombre"))?null:e.touched)),i.R7$(5),i.Y8G("ngIf",(null==n.ubicacionForm||null==(u=n.ubicacionForm.get("rack"))?null:u.invalid)&&(null==n.ubicacionForm||null==(u=n.ubicacionForm.get("rack"))?null:u.touched)),i.R7$(5),i.Y8G("ngIf",(null==n.ubicacionForm||null==(l=n.ubicacionForm.get("ubicacion"))?null:l.invalid)&&(null==n.ubicacionForm||null==(l=n.ubicacionForm.get("ubicacion"))?null:l.touched)),i.R7$(5),i.Y8G("ngIf",(null==n.ubicacionForm||null==(b=n.ubicacionForm.get("cantidad"))?null:b.invalid)&&(null==n.ubicacionForm||null==(b=n.ubicacionForm.get("cantidad"))?null:b.touched)),i.R7$(),i.Y8G("disabled",n.ubicacionForm.invalid)}},dependencies:[p.bT,r.qT,r.BC,r.cb,t.Jm,t.QW,t.W9,t.eU,t.$w,t.uz,t.he,t.IO,t.BC,t.ai,t.su,t.Gw,t.el,r.j4,r.JD]}),c})()}];let k=(()=>{var a;class c{}return(a=c).\u0275fac=function(o){return new(o||a)},a.\u0275mod=i.$C({type:a}),a.\u0275inj=i.G2t({imports:[m.iI.forChild(A),m.iI]}),c})(),y=(()=>{var a;class c{}return(a=c).\u0275fac=function(o){return new(o||a)},a.\u0275mod=i.$C({type:a}),a.\u0275inj=i.G2t({providers:[F.E],imports:[p.MD,r.YN,t.bv,k,r.X1]}),c})()}}]);